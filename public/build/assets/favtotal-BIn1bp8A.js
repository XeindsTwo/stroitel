const n=document.querySelectorAll(".like"),l=document.getElementById("favtotal"),a={duration:3e3,gravity:"bottom",position:"right"};let o=JSON.parse(localStorage.getItem("favorites"))||[];l.textContent=o.length;const i=(t,e)=>{e?t.classList.add("like_active"):t.classList.remove("like_active")},c=t=>{const e=o.indexOf(t);e===-1?(o.push(t),Toastify({...a,text:"Товар добавлен в избранное"}).showToast()):(o.splice(e,1),Toastify({...a,text:"Товар удален из избранного"}).showToast()),localStorage.setItem("favorites",JSON.stringify(o)),l.textContent=o.length};n.forEach(t=>{const e=t.dataset.productId;let s=o.includes(e);i(t,s),t.addEventListener("click",()=>{c(e),s=!s,i(t,s)})});

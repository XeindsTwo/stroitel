document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("reviewForm");t.addEventListener("submit",function(n){n.preventDefault();const o=new FormData(t);fetch(t.action,{method:"POST",body:o,headers:{"X-CSRF-TOKEN":"{{ csrf_token() }}"}}).then(e=>{if(e.status===429)throw new Error("Слишком много запросов. Пожалуйста, подождите некоторое время и повторите попытку.");if(!e.ok)throw new Error("Ошибка при отправке запроса");return e.json()}).then(e=>{alert(e.message),t.reset()}).catch(e=>{console.error("Ошибка:",e),alert(e.message||"Произошла ошибка. Попробуйте еще раз.")})})});
